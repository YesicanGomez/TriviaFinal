
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trivia Ambiental â€“ Antioquia, Colombia</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eaf7ea;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    header {
      background: #2e7d32;
      color: white;
      width: 100%;
      padding: 1rem 0;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
    }
    main {
      max-width: 600px;
      background: white;
      margin: 1.5rem;
      padding: 1.5rem 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .hide {
      display: none;
    }
    .question {
      font-size: 1.3rem;
      margin-bottom: 1rem;
    }
    .options button {
      display: block;
      width: 100%;
      margin: 0.4rem 0;
      padding: 0.6rem;
      font-size: 1.1rem;
      border: 2px solid #2e7d32;
      background: white;
      color: #2e7d32;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }
    .options button:hover {
      background: #2e7d32;
      color: white;
    }
    .options button.selected {
      background: #388e3c;
      color: white;
      border-color: #388e3c;
      pointer-events: none;
    }
    button:disabled {
      opacity: 0.5;
      cursor: default;
    }
    #start-screen input {
      width: 100%;
      padding: 0.5rem;
      font-size: 1.1rem;
      margin-bottom: 1rem;
      border-radius: 5px;
      border: 1.5px solid #2e7d32;
    }
    #start-screen button {
      background: #2e7d32;
      color: white;
      font-weight: bold;
      border: none;
      padding: 0.7rem;
      font-size: 1.2rem;
      border-radius: 5px;
      cursor: pointer;
    }
    #start-screen button:hover {
      background: #276628;
    }
    #score-screen {
      text-align: center;
    }
    #score-screen h2 {
      color: #2e7d32;
      margin-bottom: 1rem;
    }
    #score-screen ul {
      text-align: left;
      max-height: 250px;
      overflow-y: auto;
      padding-left: 1rem;
    }
    #score-screen ul li {
      margin-bottom: 0.8rem;
    }
    #leaderboard {
      margin-top: 1.5rem;
      max-width: 600px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      padding: 1rem 1.5rem;
    }
    #leaderboard h3 {
      margin-top: 0;
      color: #2e7d32;
      text-align: center;
    }
    #leaderboard table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.7rem;
    }
    #leaderboard th, #leaderboard td {
      border: 1px solid #2e7d32;
      padding: 0.4rem 0.8rem;
      text-align: center;
    }
    #leaderboard th {
      background: #a5d6a7;
    }
    footer {
      margin: 1rem 0;
      color: #555;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <header>ðŸŒ¿ Trivia Ambiental â€“ Antioquia, Colombia</header>
  <main>
    <section id="start-screen">
      <input type="text" id="username" placeholder="Ingresa tu nombre para comenzar" />
      <button id="start-btn" disabled>Comenzar</button>
    </section>

    <section id="quiz-screen" class="hide">
      <div class="question" id="question-text"></div>
      <div class="options" id="options-container"></div>
      <button id="next-btn" disabled>Siguiente</button>
    </section>

    <section id="score-screen" class="hide">
      <h2>Resultados, <span id="user-name-display"></span>!</h2>
      <p>Tu puntaje: <strong><span id="score"></span> / 15</strong></p>
      <ul id="score-details"></ul>
      <button id="restart-btn">Volver a jugar</button>
    </section>
  </main>

  <section id="leaderboard" class="hide">
    <h3>Tabla de Puntajes</h3>
    <table>
      <thead>
        <tr><th>Jugador</th><th>Puntaje</th></tr>
      </thead>
      <tbody id="leaderboard-body"></tbody>
    </table>
  </section>

  <footer>
    &copy; 2025 Trivia Ambiental â€“ Antioquia
  </footer>

  <script>
    const questions = [
      {
        question: "Â¿CuÃ¡l es el parque natural mÃ¡s grande del Departamento de Antioquia?",
        options: [
          "Parque ArvÃ­",
          "Parque Nacional Natural Las OrquÃ­deas",
          "Reserva Natural CaÃ±Ã³n del RÃ­o Claro",
          "Cerro Quitasol"
        ],
        answer: 1,
        description: "El Parque Nacional Natural Las OrquÃ­deas es la reserva natural mÃ¡s extensa en Antioquia, reconocida por su biodiversidad y ecosistemas Ãºnicos."
      },
      {
        question: "Â¿QuÃ© rÃ­o es considerado el mÃ¡s importante en Antioquia por su extensiÃ³n y relevancia econÃ³mica y ecolÃ³gica?",
        options: [
          "RÃ­o Cauca",
          "RÃ­o Atrato",
          "RÃ­o Magdalena",
          "RÃ­o Porce"
        ],
        answer: 0,
        description: "El RÃ­o Cauca atraviesa Antioquia y es vital para la economÃ­a, la agricultura y los ecosistemas de la regiÃ³n."
      },
      {
        question: "Â¿QuÃ© municipio de Antioquia es reconocido por su producciÃ³n de energÃ­a hidroelÃ©ctrica debido a la represa de Ituango?",
        options: [
          "GuatapÃ©",
          "Ituango",
          "Sabanalarga",
          "San Carlos"
        ],
        answer: 1,
        description: "El municipio de Ituango alberga la represa hidroelÃ©ctrica mÃ¡s grande del paÃ­s, fundamental para la generaciÃ³n de energÃ­a."
      },
      {
        question: "Â¿CuÃ¡l de estos municipios es conocido por su riqueza en biodiversidad y hace parte de la regiÃ³n del ChocÃ³ biogeogrÃ¡fico?",
        options: [
          "Turbo",
          "Santa Fe de Antioquia",
          "Rionegro",
          "Yarumal"
        ],
        answer: 0,
        description: "Turbo estÃ¡ ubicado en la regiÃ³n del ChocÃ³ biogeogrÃ¡fico, con una gran biodiversidad y ecosistemas tropicales."
      },
      {
        question: "Â¿QuÃ© amenaza ambiental afecta gravemente a varios municipios del Bajo Cauca antioqueÃ±o, incluyendo Caucasia y El Bagre?",
        options: [
          "La deforestaciÃ³n por expansiÃ³n urbana",
          "La minerÃ­a ilegal",
          "La erosiÃ³n costera",
          "El turismo masivo"
        ],
        answer: 1,
        description: "La minerÃ­a ilegal en el Bajo Cauca ha provocado daÃ±os ambientales significativos, afectando rÃ­os y bosques."
      },
      {
        question: "Â¿CuÃ¡l es la flor emblemÃ¡tica que representa a Antioquia y que tambiÃ©n es una especie nativa?",
        options: [
          "OrquÃ­dea Cattleya trianae",
          "Rosa de Castilla",
          "Flor de Loto",
          "Dalia"
        ],
        answer: 0,
        description: "La OrquÃ­dea Cattleya trianae es la flor nacional de Colombia y representa a Antioquia por ser nativa y emblemÃ¡tica."
      },
      {
        question: "Â¿QuÃ© animal es sÃ­mbolo de Antioquia y estÃ¡ protegido en sus reservas naturales?",
        options: [
          "CÃ³ndor Andino",
          "Jaguar",
          "Oso de anteojos",
          "TucÃ¡n"
        ],
        answer: 2,
        description: "El Oso de anteojos es un sÃ­mbolo de la fauna antioqueÃ±a, protegido en parques naturales y reservas."
      },
      {
        question: "Â¿CuÃ¡l es el ecosistema predominante en la zona del Parque Nacional Natural Paramillo?",
        options: [
          "Bosque seco tropical",
          "PÃ¡ramo y bosque hÃºmedo",
          "Sabana",
          "Manglar"
        ],
        answer: 1,
        description: "El Parque Paramillo posee ecosistemas de pÃ¡ramo y bosques hÃºmedos que son vitales para la regulaciÃ³n hÃ­drica."
      },
      {
        question: "Â¿QuÃ© prÃ¡ctica ambiental es mÃ¡s promovida en Antioquia para conservar sus bosques?",
        options: [
          "ReforestaciÃ³n y manejo sostenible",
          "Caza controlada",
          "ConstrucciÃ³n de carreteras",
          "ExpansiÃ³n agrÃ­cola"
        ],
        answer: 0,
        description: "La reforestaciÃ³n y el manejo sostenible son esenciales para conservar los bosques y la biodiversidad de Antioquia."
      },
      {
        question: "Â¿CuÃ¡l es la importancia del rÃ­o Porce en Antioquia?",
        options: [
          "Es un rÃ­o para navegaciÃ³n comercial",
          "Genera energÃ­a hidroelÃ©ctrica",
          "No tiene relevancia ambiental",
          "Es un rÃ­o seco"
        ],
        answer: 1,
        description: "El rÃ­o Porce es importante para la generaciÃ³n de energÃ­a hidroelÃ©ctrica en Antioquia."
      },
      {
        question: "Â¿QuÃ© recurso natural es especialmente abundante en la regiÃ³n del Nordeste antioqueÃ±o?",
        options: [
          "CarbÃ³n",
          "Oro",
          "Agua",
          "PetrÃ³leo"
        ],
        answer: 2,
        description: "La regiÃ³n del Nordeste cuenta con abundantes fuentes de agua, esenciales para la agricultura y la vida."
      },
      {
        question: "Â¿CuÃ¡l es la funciÃ³n principal de los pÃ¡ramos en Antioquia?",
        options: [
          "Son zonas turÃ­sticas solamente",
          "Regulan el ciclo hÃ­drico y conservan la biodiversidad",
          "No tienen importancia ecolÃ³gica",
          "Son zonas desÃ©rticas"
        ],
        answer: 1,
        description: "Los pÃ¡ramos regulan el agua que abastece rÃ­os y poblaciones, y albergan especies Ãºnicas."
      },
      {
        question: "Â¿QuÃ© proyecto ambiental se destaca en MedellÃ­n para mejorar la calidad de vida y el entorno natural?",
        options: [
          "Proyecto JardÃ­n Circunvalar",
          "ConstrucciÃ³n de autopistas",
          "Minas a cielo abierto",
          "ExpansiÃ³n urbana sin control"
        ],
        answer: 0,
        description: "El JardÃ­n Circunvalar es un proyecto para conectar zonas verdes y proteger la naturaleza en MedellÃ­n."
      },
      {
        question: "Â¿QuÃ© acciÃ³n estÃ¡ siendo promovida para mitigar el cambio climÃ¡tico en Antioquia?",
        options: [
          "Aumento en la quema de combustibles fÃ³siles",
          "ConservaciÃ³n de bosques y energÃ­as renovables",
          "Incremento de minerÃ­a ilegal",
          "DeforestaciÃ³n acelerada"
        ],
        answer: 1,
        description: "La conservaciÃ³n forestal y el uso de energÃ­as limpias son claves para enfrentar el cambio climÃ¡tico."
      },
      {
        question: "Â¿CuÃ¡l es la principal causa de contaminaciÃ³n en los rÃ­os de Antioquia?",
        options: [
          "Vertimientos industriales y minerÃ­a ilegal",
          "Turismo ecolÃ³gico",
          "ConservaciÃ³n de Ã¡reas protegidas",
          "ReforestaciÃ³n"
        ],
        answer: 0,
        description: "Los vertimientos sin control y la minerÃ­a ilegal contaminan los rÃ­os y afectan la vida acuÃ¡tica."
      }
    ];

    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const scoreScreen = document.getElementById('score-screen');
    const leaderboardSection = document.getElementById('leaderboard');

    const usernameInput = document.getElementById('username');
    const startBtn = document.getElementById('start-btn');

    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const nextBtn = document.getElementById('next-btn');

    const scoreDisplay = document.getElementById('score');
    const scoreDetails = document.getElementById('score-details');
    const userNameDisplay = document.getElementById('user-name-display');
    const restartBtn = document.getElementById('restart-btn');

    const leaderboardBody = document.getElementById('leaderboard-body');

    let currentQuestionIndex = 0;
    let score = 0;
    let userAnswers = [];
    let username = '';

    usernameInput.addEventListener('input', () => {
      startBtn.disabled = usernameInput.value.trim() === '';
    });

    startBtn.addEventListener('click', () => {
      username = usernameInput.value.trim();
      if (!username) return;
      startScreen.classList.add('hide');
      quizScreen.classList.remove('hide');
      leaderboardSection.classList.remove('hide');
      currentQuestionIndex = 0;
      score = 0;
      userAnswers = [];
      showQuestion();
      renderLeaderboard();
    });

    function showQuestion() {
      nextBtn.disabled = true;
      const q = questions[currentQuestionIndex];
      questionText.textContent = `Pregunta ${currentQuestionIndex + 1}: ${q.question}`;
      optionsContainer.innerHTML = '';
      q.options.forEach((opt, index) => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => selectOption(index, btn);
        optionsContainer.appendChild(btn);
      });
    }

    function selectOption(selectedIndex, button) {
      const q = questions[currentQuestionIndex];
      // Disable all buttons
      [...optionsContainer.children].forEach(b => {
        b.disabled = true;
        b.classList.remove('selected');
      });
      // Mark selected
      button.classList.add('selected');
      nextBtn.disabled = false;
      userAnswers[currentQuestionIndex] = selectedIndex;
      if (selectedIndex === q.answer) score++;
    }

    nextBtn.addEventListener('click', () => {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        showQuestion();
      } else {
        showScore();
      }
    });

    restartBtn.addEventListener('click', () => {
      scoreScreen.classList.add('hide');
      startScreen.classList.remove('hide');
      usernameInput.value = '';
      startBtn.disabled = true;
    });

    function showScore() {
      quizScreen.classList.add('hide');
      scoreScreen.classList.remove('hide');
      userNameDisplay.textContent = username;
      scoreDisplay.textContent = score;
      scoreDetails.innerHTML = '';
      questions.forEach((q, i) => {
        const li = document.createElement('li');
        const userAnswerIndex = userAnswers[i];
        const correct = userAnswerIndex === q.answer;
        li.innerHTML = `<strong>Pregunta ${i + 1}:</strong> ${q.description} <br>
                        <em>Tu respuesta:</em> ${q.options[userAnswerIndex] || 'No respondiste'} - 
                        <strong style="color:${correct ? 'green' : 'red'}">${correct ? 'Correcto' : 'Incorrecto'}</strong>`;
        scoreDetails.appendChild(li);
      });
      saveScore();
      renderLeaderboard();
    }

    function saveScore() {
      const storedScores = JSON.parse(localStorage.getItem('triviaScores')) || [];
      storedScores.push({ user: username, score });
      // Ordenar por puntaje descendente
      storedScores.sort((a,b) => b.score - a.score);
      // Guardar mÃ¡ximo 10
      localStorage.setItem('triviaScores', JSON.stringify(storedScores.slice(0,10)));
    }

    function renderLeaderboard() {
      const storedScores = JSON.parse(localStorage.getItem('triviaScores')) || [];
      leaderboardBody.innerHTML = '';
      storedScores.forEach(entry => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${entry.user}</td><td>${entry.score}</td>`;
        leaderboardBody.appendChild(tr);
      });
    }
  </script>
</body>
</html>
